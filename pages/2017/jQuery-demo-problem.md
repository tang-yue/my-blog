2017 年 6 月

#### exercise1 水平幻灯片效果
这个部分实在是忘了应该如何去写。于是google了下，发现现成的源代码。是面向对象思想写的，之后我就改写了。其实挑战方法那个代码有问题。不过最后自己看懂了，我自己就改过来了。这里面运用的方法思想不常看到，有点不好理解。

#### exercise2 老虎机抽奖

##### 第一个问题:
如何去掉链接字体的颜色（蓝色）,第一个是背景色红色应该采用哪种红色。

##### 第二个问题:
`<td class='item' data-index='1'>`萌妹子</td>我应该如何去选择这一行标签，用怎样的选择器。 解决方法`$('td[data-index=1]')`。最最精确的选择。

##### 第三个问题：
如何解决缓冲运动。有个列子是通过div和边框所距离的距离，从而确定spend。而现在我遇到的问题是，这个移动并不是直线的，而是一个圆周，那么请问我应该如何去对待呢。也就是说现在这个速度并不好确定下来，那么应该如何去做。其实根本的问题是:我应该如何让它的速度越来越慢，而不是这样一直不变。

解决:既然我不能够解决速度，那么只有变化定时器时间的大小。从而让速度降下来。Math.random() * 50 获得50以下的随机整数。最后就是更改定时器的时间。这是一个不确定的值，这个需要一直增加，但是我找不到，什么事件触发它的时间一直增加。

解决：其实从头想是什么事件触发它增加。头是循环，反过来想，请问，我增加到什么时候，让其停止呢。遇到的问题 ，当我的确让定时器时间变大的时候，发现定时器不起作用了，没有反应。当然这个时候，定时器函数和时间没有多大的关系。难道是这个问题？？？
当我把定时器里头的参数，改成定时时间时发现仍旧是没有什么用处。虽说是运动了，但是并不是自己想要的效果。

##### 第四个问题：
var activeItem = $('.item.active');`var itemIndex = activeItem.data('index');`这个itemIndex的值不应该是一直在变化吗？随着active这个类的变动而变动。可是测试了就是不变。不知道为什么。难道是因为全局变量。果然是全局变量的问题。

##### 第五个问题：
出现的最大问题是 这个问题纠结了好久

// 第一行代码
`timer = setTimeout(jump(nextTime), nextTime);`
console.log(nextTime);
// 第二行代码
```
timer = setTimeout(function() {jump(nextTime), nextTime});
console.log(nextTime);
```
这两行代码，得到是完全相反的效果。至于为什么是相反可以通过控制台查看输出。第一行代码 没有用function(){}包起来的话，他是先求函数的值，然后把返回值作为参数传递过去。第二行代码完全是参数传递函数。

##### 第六个问题：
还要一个bug就是，当正在运行的时候，如果，再次点击开始按钮，仍旧是会变成重新开始，这个随机的时间此时是不变动的。而不是没有反应。
解决越点击越快的问题，我已经在很多地方都加了清除定时器，但是完全没有效果。
解决已经把越点击越快，这个问题解决了，只需要在定时器开启之前关闭定时器就好了。
现在遇到的问题是每点击一次就会重新开始一次，而且还会陷入死循环。不停地弹出alert（）。
解决不停地弹出alert（）这个问题:
清除定时器这行代码放的位置出现错误，通过控制台可以发现。
解决重新开始这个问题:

##### 第七个问题：
当运行时，点击会重新开始，而不是没有反应。这个不是想要的效果，但是我无能为力。最后参考的是源码。

总结：最为关键的部分可能就是循环套循环。

#### exercise3 整型数值格式化为逗号分隔格式

**遇到的问题**:
 一开始

```
var value1 = str.slice(len-3, len);
var value2 = str.slice(len-6, len-3);
var value3 = str.slice(len-9, len-6);
```

// 等等
```
var  result=[];
result.unshift(value1);   // 从数组前往后添加和push方法相反
result.unshift(value2);
result.unshift(value3);
```

从上述就可以看出需要用到循环。因而改成for循环。但是考虑到字符串的个数不是正好为3的倍数，余1或者余2的情况，接着进行了单独的讨论。

**总结**:我的这个方法不太科学。如果余数为9的话，那岂不是考虑余数要写好多好多。

#### exercise4 切换数据表的行列

```
00 01 02 03 04
10 11 12 13 14
20 21 22 23 24
30 31 32 33 34
```

单纯的01 变成了10
```
02 ———– 20

03 ———– 30

04 ———– 40
```

我也想用二维数组的方式
但是 document.getElementsByTagName('table')[0].cells.length 根本得不出来列的个数。document.getElementsByTagName('table')[0].cells[0].innerHTML 这个也是无效的，相反rows这些都是有反应的。

**遇到的问题**：
原有的所有th属性全部都删不掉。我的想法是先把它给删除了，然后在重新添加。可是就是删不掉。既然改不了样式，那么就只能改标签元素，但是要保证内容不变。
看到一个jQuery上很强大的替换标签，把所有p标签替换为 “##” ，$('p').replaceWith('##'); 把所有的p标签替换为b标签，内容不变。

```
$('p').each(function() {
    $(this).replaceWith('<b>'+$(this).html() + '</b>');
})
```

js写的我要崩溃了。于是最便捷的方式就是采用正则替换。但是innerHTML有个坏毛病，就是如何提取单个标签元素，我得到就仅仅是元素的内容，是不带标签，这让我正则替换是欲哭无泪。但是如果你要提取，第一行的所有内容，里面包含好几个th标签，就能提取出来了。这样还不用循环了。

**总结**：总体思路是先颠倒，然后再修改样式。
下面的jQuery方法将会变得简单很多。

```
$('table').find('td').each(function(i) {
    if(i%4 == 0) {
    $(this).addClass(''); // 给区间加上特定的样式
    }
})
```

当我在循环里采用循环进行颠倒的时候，发现在jQuery里并不能同样的应用如此。$('tr:eq(i)').children().eq(j).html() = $('tr:eq(j)').children().eq(i).html();这行代码出现问题。我发现使用jQuery出现问题，使用原生的js同样也会出现问题。这个应该如何是好。
看来这个思路和原生js的思路不能一样。
这个jQuery代码我是真的写不出来了，真的写不出来了。

```
$(function() {
    var rows=[];
        rows[0]=[12, 23, 45, 56];
        rows[1]=[34, 78, 90, 12];
        $.each(rows, function(i, row) {   // 这行代码非常的奇妙，因为它能把下面的两个数取出来
        console.log(row[0]);              // 12,34
        })
})
```